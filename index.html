<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOREX DATA PRO ‚Ä¢ Professional Trading Platform</title>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.2.1/dist/chartjs-chart-financial.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;600;700&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --neon-red: #ff0040;
            --neon-green: #00ff00;
            --neon-cyan: #00ffff;
            --neon-yellow: #ffff00;
            --dark-bg: #000000;
            --dark-surface: #0a0a0a;
            --dark-elevated: #121212;
            --border-dark: #1a1a1a;
            --text-white: #ffffff;
            --text-gray: #808080;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-white);
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(0deg, rgba(255, 0, 64, 0.03), rgba(255, 0, 64, 0.03) 1px, transparent 1px, transparent 2px);
            pointer-events: none;
            z-index: 1000;
            animation: scan 8s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(10px); }
        }

        h1, h2, h3, h4 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .card {
            background: var(--dark-surface);
            border: 1px solid var(--border-dark);
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s;
            clip-path: polygon(0 0, calc(100% - 15px) 0, 100% 15px, 100% 100%, 0 100%);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 15px;
            height: 15px;
            background: var(--neon-red);
            clip-path: polygon(100% 0, 100% 100%, 0 0);
        }

        .card:hover {
            border-color: var(--neon-red);
            box-shadow: 0 0 20px rgba(255, 0, 64, 0.3);
        }

        .best-opportunity {
            border: 3px solid var(--neon-red);
            box-shadow: 0 0 30px rgba(255, 0, 64, 0.8);
            animation: neonPulse 2s infinite;
            margin-top: 2.5rem;
        }

        .best-opportunity::after {
            content: '‚ö° MEJOR OPORTUNIDAD';
            position: absolute;
            top: -1.75rem;
            left: 50%;
            transform: translateX(-50%);
            background: var(--neon-red);
            color: var(--dark-bg);
            padding: 0.5rem 1.5rem;
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            font-size: 0.8rem;
            letter-spacing: 2px;
            white-space: nowrap;
            z-index: 10;
        }

        @keyframes neonPulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 0, 64, 0.8); }
            50% { box-shadow: 0 0 40px rgba(255, 0, 64, 1); }
        }

        .btn {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--neon-red);
            background: transparent;
            color: var(--neon-red);
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s;
            clip-path: polygon(10px 0, 100% 0, calc(100% - 10px) 100%, 0 100%);
        }

        .btn:hover {
            background: var(--neon-red);
            color: var(--dark-bg);
            box-shadow: 0 0 20px rgba(255, 0, 64, 0.8);
        }

        .btn-primary {
            background: var(--neon-red);
            color: var(--dark-bg);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
        }

        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(5px);
            z-index: 999;
            overflow-y: auto;
        }

        .neon-text {
            color: var(--neon-red);
            text-shadow: 0 0 10px rgba(255, 0, 64, 0.8);
        }

        .signal-badge {
            padding: 0.5rem 1rem;
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            font-size: 0.875rem;
            letter-spacing: 1px;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        .signal-buy { background: var(--neon-green); color: var(--dark-bg); box-shadow: 0 0 20px rgba(0, 255, 0, 0.8); }
        .signal-sell { background: var(--neon-red); color: var(--dark-bg); box-shadow: 0 0 20px rgba(255, 0, 64, 0.8); }
        .signal-neutral { background: var(--text-gray); color: var(--dark-bg); }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 1.5rem 0;
            background: var(--dark-elevated);
            padding: 1rem;
            border: 1px solid var(--border-dark);
        }

        .indicator-box {
            background: var(--dark-elevated);
            border-left: 3px solid;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .indicator-box.bullish { border-left-color: var(--neon-green); }
        .indicator-box.bearish { border-left-color: var(--neon-red); }
        .indicator-box.neutral { border-left-color: var(--text-gray); }

        .probability-bar {
            height: 30px;
            background: var(--dark-elevated);
            border: 1px solid var(--border-dark);
            position: relative;
            overflow: hidden;
        }

        .probability-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan));
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: var(--dark-bg);
        }

        .ratio-card {
            background: var(--dark-elevated);
            border: 1px solid var(--border-dark);
            padding: 1rem;
            text-align: center;
            transition: all 0.3s;
        }

        .ratio-card:hover {
            border-color: var(--neon-cyan);
            transform: translateY(-5px);
        }

        .live-badge {
            background: var(--neon-green);
            color: var(--dark-bg);
            padding: 0.25rem 0.75rem;
            font-size: 0.7rem;
            font-weight: 900;
            letter-spacing: 1px;
            animation: pulse 2s infinite;
        }

        .price-change {
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            animation: priceFlash 0.3s;
        }

        @keyframes priceFlash {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); color: var(--neon-cyan); }
            100% { transform: scale(1); }
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: pulse 2s infinite;
            display: inline-block;
        }

        .status-dot.connected {
            background: var(--neon-green);
            box-shadow: 0 0 10px var(--neon-green);
        }

        .status-dot.disconnected {
            background: var(--neon-red);
            box-shadow: 0 0 10px var(--neon-red);
        }

        input, select {
            background: var(--dark-elevated);
            border: 1px solid var(--border-dark);
            color: var(--text-white);
            padding: 0.75rem;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            width: 100%;
            transition: all 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--neon-cyan);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--text-gray);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .alarm-item {
            background: var(--dark-elevated);
            border: 1px solid var(--border-dark);
            padding: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .alarm-item:hover {
            border-color: var(--neon-cyan);
        }

        .alarm-active {
            border-left: 3px solid var(--neon-green);
        }

        .alarm-triggered {
            background: rgba(255, 0, 64, 0.1);
            border-color: var(--neon-red);
            animation: neonPulse 1s infinite;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-box {
            background: var(--dark-elevated);
            border: 1px solid var(--border-dark);
            padding: 1rem;
            text-align: center;
        }

        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--neon-cyan);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-gray);
        }

        @media (max-width: 768px) {
            .best-opportunity { margin-top: 3rem; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const TWELVE_DATA_API_KEY = '04eec7507ab745e18e787977413c2649';
        const TWELVE_DATA_BASE = 'https://api.twelvedata.com';
        const FINNHUB_API_KEY = 'd5n740hr01qh5ppc15r0d5n740hr01qh5ppc15rg';
        const FINNHUB_WS = 'wss://ws.finnhub.io';

        const PAIRS = [
            { symbol: 'EUR/USD', finnhubSymbol: 'OANDA:EUR_USD', displaySymbol: 'EURUSD', name: 'Euro / US Dollar', decimals: 5, pipValue: 10 },
            { symbol: 'GBP/USD', finnhubSymbol: 'OANDA:GBP_USD', displaySymbol: 'GBPUSD', name: 'British Pound / US Dollar', decimals: 5, pipValue: 10 },
            { symbol: 'USD/JPY', finnhubSymbol: 'OANDA:USD_JPY', displaySymbol: 'USDJPY', name: 'US Dollar / Japanese Yen', decimals: 3, pipValue: 9.09 },
            { symbol: 'EUR/JPY', finnhubSymbol: 'OANDA:EUR_JPY', displaySymbol: 'EURJPY', name: 'Euro / Japanese Yen', decimals: 3, pipValue: 9.09 },
            { symbol: 'XAU/USD', finnhubSymbol: 'OANDA:XAU_USD', displaySymbol: 'XAUUSD', name: 'Gold / US Dollar', decimals: 2, pipValue: 1 },
        ];

        const loadProfile = () => {
            const saved = localStorage.getItem('forexDataProProfile');
            return saved ? JSON.parse(saved) : {
                accountSize: 10000,
                currency: 'USD',
                leverage: 100,
                riskPerTrade: 2,
                lotSize: 0.1,
                minScore: 60
            };
        };

        const saveProfile = (profile) => localStorage.setItem('forexDataProProfile', JSON.stringify(profile));
        const loadAlarms = () => {
            const saved = localStorage.getItem('forexDataProAlarms');
            return saved ? JSON.parse(saved) : [];
        };
        const saveAlarms = (alarms) => localStorage.setItem('forexDataProAlarms', JSON.stringify(alarms));

        const calculatePotentialProfit = (lotSize, pips, pipValue) => lotSize * pips * pipValue;
        const calculateRequiredMargin = (lotSize, price, leverage) => (lotSize * 100000 * price) / leverage;

        const fetchDailyOpen = async (symbol) => {
            try {
                const url = `${TWELVE_DATA_BASE}/time_series?symbol=${symbol}&interval=1day&outputsize=1&apikey=${TWELVE_DATA_API_KEY}`;
                const response = await fetch(url);
                const data = await response.json();
                if (data.values && data.values.length > 0) {
                    return {
                        open: parseFloat(data.values[0].open),
                        high: parseFloat(data.values[0].high),
                        low: parseFloat(data.values[0].low),
                        close: parseFloat(data.values[0].close)
                    };
                }
                return null;
            } catch (error) { return null; }
        };

        const calculateRSI = (prices, period = 14) => {
            if (prices.length < period + 1) {
                if (prices.length < 2) return 50;
                const change = prices[prices.length - 1] - prices[0];
                return change > 0 ? 65 : change < 0 ? 35 : 50;
            }
            let gains = 0, losses = 0;
            for (let i = prices.length - period; i < prices.length; i++) {
                const change = prices[i] - prices[i - 1];
                if (change > 0) gains += change; else losses += Math.abs(change);
            }
            const avgGain = gains / period, avgLoss = losses / period;
            if (avgLoss === 0) return 100;
            return 100 - (100 / (1 + avgGain / avgLoss));
        };

        const calculateEMA = (prices, period) => {
            if (prices.length === 0) return 0;
            const k = 2 / (period + 1);
            let ema = prices[0];
            for (let i = 1; i < prices.length; i++) ema = prices[i] * k + ema * (1 - k);
            return ema;
        };

        const calculateMACD = (prices) => {
            if (prices.length < 5) {
                if (prices.length < 2) return { macd: 0, signal: 0, histogram: 0 };
                const trend = prices[prices.length - 1] - prices[0];
                const macd = trend > 0 ? 0.0001 : -0.0001;
                return { macd, signal: 0, histogram: macd };
            }
            const ema12 = calculateEMA(prices, Math.min(12, prices.length));
            const ema26 = calculateEMA(prices, Math.min(26, prices.length));
            const macd = ema12 - ema26;
            return { macd, signal: macd * 0.9, histogram: macd - macd * 0.9 };
        };

        const calculateBollingerBands = (prices, period = 20, stdDev = 2) => {
            if (prices.length < 3) {
                const price = prices[prices.length - 1] || 0;
                return { upper: price * 1.002, middle: price, lower: price * 0.998 };
            }
            const actualPeriod = Math.min(period, prices.length);
            const slice = prices.slice(-actualPeriod);
            const middle = slice.reduce((a, b) => a + b, 0) / actualPeriod;
            const variance = slice.reduce((sum, price) => sum + Math.pow(price - middle, 2), 0) / actualPeriod;
            const std = Math.sqrt(variance);
            return { upper: middle + std * stdDev, middle, lower: middle - std * stdDev };
        };

        const calculateMA = (prices, period) => {
            if (prices.length < period) return prices[prices.length - 1] || 0;
            const slice = prices.slice(-period);
            return slice.reduce((a, b) => a + b, 0) / period;
        };

        const calculateOpportunityScore = (pair, priceHistory) => {
            if (!pair.price || !pair.dailyOpen) return 0;
            const { price, dailyOpen, dailyHigh, dailyLow, volatility = 50 } = pair;
            let score = 0;
            const dayChange = ((price - dailyOpen) / dailyOpen) * 100;
            const absDayChange = Math.abs(dayChange);
            if (absDayChange > 0.5) score += 40; else if (absDayChange > 0.3) score += 30; else if (absDayChange > 0.1) score += 20; else score += 10;
            const currentHigh = Math.max(dailyHigh || price, price);
            const currentLow = Math.min(dailyLow || price, price);
            if (currentHigh !== currentLow) {
                const rangePosition = (price - currentLow) / (currentHigh - currentLow);
                if (rangePosition > 0.8 || rangePosition < 0.2) score += 30; else if (rangePosition > 0.6 || rangePosition < 0.4) score += 20; else score += 10;
            } else score += 15;
            if (volatility > 40 && volatility < 100) score += 20; else if (volatility > 20 && volatility < 150) score += 15; else score += 10;
            if (priceHistory && priceHistory.length >= 5) {
                const recentPrices = priceHistory.slice(-Math.min(10, priceHistory.length));
                const ma5 = calculateMA(recentPrices, Math.min(5, recentPrices.length));
                const ma10 = calculateMA(recentPrices, Math.min(10, recentPrices.length));
                if ((price > ma5 && ma5 > ma10) || (price < ma5 && ma5 < ma10)) score += 10; else score += 5;
            } else score += 5;
            return Math.min(100, Math.round(score));
        };

        const analyzeSignals = (pair, priceHistory) => {
            if (!priceHistory || priceHistory.length < 3) {
                return {
                    signal: 'NEUTRAL', confidence: 0,
                    reasons: ['Acumulando datos (' + (priceHistory?.length || 0) + '/3 ticks)'],
                    entry: pair.price, stopLoss: pair.price * 0.995, takeProfit: pair.price * 1.01,
                    rsi: 50, macd: { macd: 0, signal: 0, histogram: 0 },
                    bb: { upper: 0, middle: 0, lower: 0 }
                };
            }

            const rsi = calculateRSI(priceHistory);
            const macd = calculateMACD(priceHistory);
            const bb = calculateBollingerBands(priceHistory);
            const currentPrice = pair.price;
            const ma5 = calculateMA(priceHistory, Math.min(5, priceHistory.length));
            const ma10 = calculateMA(priceHistory, Math.min(10, priceHistory.length));

            let signal = 'NEUTRAL', confidence = 0;
            const reasons = [];

            if (rsi < 30) { confidence += 30; reasons.push(\`RSI sobreventa (\${rsi.toFixed(1)})\`); signal = 'BUY'; }
            else if (rsi > 70) { confidence += 30; reasons.push(\`RSI sobrecompra (\${rsi.toFixed(1)})\`); signal = 'SELL'; }
            else if (rsi < 40) { confidence += 15; reasons.push('RSI tendencia compra'); if (signal === 'NEUTRAL') signal = 'BUY'; }
            else if (rsi > 60) { confidence += 15; reasons.push('RSI tendencia venta'); if (signal === 'NEUTRAL') signal = 'SELL'; }

            if (macd.histogram > 0 && macd.macd > macd.signal) {
                confidence += 25; reasons.push('MACD cruce alcista'); if (signal === 'NEUTRAL') signal = 'BUY';
            } else if (macd.histogram < 0 && macd.macd < macd.signal) {
                confidence += 25; reasons.push('MACD cruce bajista'); if (signal === 'NEUTRAL') signal = 'SELL';
            }

            if (currentPrice < bb.lower) { confidence += 20; reasons.push('Precio bajo Bollinger'); if (signal === 'NEUTRAL') signal = 'BUY'; }
            else if (currentPrice > bb.upper) { confidence += 20; reasons.push('Precio sobre Bollinger'); if (signal === 'NEUTRAL') signal = 'SELL'; }

            if (priceHistory.length >= 5) {
                if (ma5 > ma10 && currentPrice > ma5) { confidence += 15; reasons.push('Tendencia alcista (MA)'); if (signal === 'NEUTRAL') signal = 'BUY'; }
                else if (ma5 < ma10 && currentPrice < ma5) { confidence += 15; reasons.push('Tendencia bajista (MA)'); if (signal === 'NEUTRAL') signal = 'SELL'; }
            }

            const volatility = pair.volatility || 50;
            if (volatility > 30 && volatility < 100) { confidence += 10; reasons.push('Volatilidad √≥ptima'); }

            if (pair.dailyOpen) {
                const dayChange = ((currentPrice - pair.dailyOpen) / pair.dailyOpen) * 100;
                if (Math.abs(dayChange) > 0.3) {
                    confidence += 10;
                    if (dayChange > 0) { reasons.push('Momentum alcista del d√≠a'); if (signal === 'NEUTRAL') signal = 'BUY'; }
                    else { reasons.push('Momentum bajista del d√≠a'); if (signal === 'NEUTRAL') signal = 'SELL'; }
                }
            }

            if (signal === 'NEUTRAL' && priceHistory.length >= 3) {
                const firstPrice = priceHistory[0];
                const lastPrice = priceHistory[priceHistory.length - 1];
                const trend = ((lastPrice - firstPrice) / firstPrice) * 100;
                if (Math.abs(trend) > 0.01) {
                    confidence = 35;
                    if (trend > 0) { signal = 'BUY'; reasons.push('Tendencia micro alcista'); }
                    else { signal = 'SELL'; reasons.push('Tendencia micro bajista'); }
                }
            }

            const atr = ((bb.upper - bb.lower) / 2) || (currentPrice * 0.002);
            let entry = currentPrice, stopLoss, takeProfit;
            if (signal === 'BUY') { stopLoss = currentPrice - atr * 1.5; takeProfit = currentPrice + atr * 3; }
            else if (signal === 'SELL') { stopLoss = currentPrice + atr * 1.5; takeProfit = currentPrice - atr * 3; }
            else { stopLoss = currentPrice * 0.995; takeProfit = currentPrice * 1.01; }

            return { signal, confidence: Math.min(confidence, 100), reasons: reasons.length > 0 ? reasons : ['An√°lisis en curso'], rsi, macd, bb, entry, stopLoss, takeProfit, atr, ma5, ma10 };
        };

        const calculateRatioProbabilities = (pair, analysis, profile) => {
            const { volatility = 50, pipValue = 10 } = pair;
            const { confidence } = analysis;
            const volFactor = Math.max(0.3, Math.min(1, 100 / volatility));
            const confFactor = confidence / 100;
            const baseProbability = volFactor * confFactor * 0.8;
            const stopLossPips = Math.abs(analysis.entry - analysis.stopLoss) * (pair.decimals === 5 ? 100000 : pair.decimals === 3 ? 1000 : 100);
            return [
                { ratio: '1:1', pips: stopLossPips, probability: Math.min(Math.round(baseProbability * 90), 95), expectedProfit: calculatePotentialProfit(profile.lotSize, stopLossPips, pipValue).toFixed(2) },
                { ratio: '1:1.5', pips: stopLossPips * 1.5, probability: Math.min(Math.round(baseProbability * 75), 95), expectedProfit: calculatePotentialProfit(profile.lotSize, stopLossPips * 1.5, pipValue).toFixed(2) },
                { ratio: '1:2', pips: stopLossPips * 2, probability: Math.min(Math.round(baseProbability * 60), 95), expectedProfit: calculatePotentialProfit(profile.lotSize, stopLossPips * 2, pipValue).toFixed(2) },
                { ratio: '1:2.5', pips: stopLossPips * 2.5, probability: Math.min(Math.round(baseProbability * 50), 95), expectedProfit: calculatePotentialProfit(profile.lotSize, stopLossPips * 2.5, pipValue).toFixed(2) },
                { ratio: '1:3', pips: stopLossPips * 3, probability: Math.min(Math.round(baseProbability * 40), 95), expectedProfit: calculatePotentialProfit(profile.lotSize, stopLossPips * 3, pipValue).toFixed(2) },
                { ratio: '1:4', pips: stopLossPips * 4, probability: Math.min(Math.round(baseProbability * 30), 95), expectedProfit: calculatePotentialProfit(profile.lotSize, stopLossPips * 4, pipValue).toFixed(2) },
                { ratio: '1:5', pips: stopLossPips * 5, probability: Math.min(Math.round(baseProbability * 20), 95), expectedProfit: calculatePotentialProfit(profile.lotSize, stopLossPips * 5, pipValue).toFixed(2) },
            ];
        };

        const XIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const BarChartIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>;
        const TargetIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>;
        const SettingsIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="3"></circle><path d="M12 1v6m0 6v6m-9-9h6m6 0h6"></path></svg>;
        const BellIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>;

        // [RESTO DE COMPONENTES AQU√ç - c√≥digo completo en el archivo]
        const Header = ({ connected, tickCount, lastUpdate, loadingPhase, onOpenProfile, onOpenAlarms, profile }) => (
            <header style={{ background: 'var(--dark-surface)', borderBottom: '2px solid var(--neon-red)', padding: '1.5rem' }}>
                <div style={{ maxWidth: '1600px', margin: '0 auto' }}>
                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', flexWrap: 'wrap', gap: '1rem' }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                            <h1 style={{ fontSize: '2rem', color: 'var(--neon-red)' }}>FOREX DATA PRO</h1>
                            <span className="live-badge">HYBRID</span>
                        </div>
                        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', flexWrap: 'wrap' }}>
                            <div style={{ fontSize: '0.875rem', color: 'var(--neon-cyan)', fontFamily: 'Orbitron' }}>
                                üí∞ ${profile.accountSize.toLocaleString()} ‚Ä¢ {profile.leverage}:1 ‚Ä¢ {profile.lotSize} lots
                            </div>
                            <button onClick={onOpenProfile} className="btn btn-small" style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                <SettingsIcon /> PERFIL
                            </button>
                            <button onClick={onOpenAlarms} className="btn btn-small" style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                <BellIcon /> ALARMAS
                            </button>
                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', background: 'var(--dark-elevated)', padding: '0.5rem 1rem', border: '1px solid var(--border-dark)' }}>
                                <div className={\`status-dot \${connected ? 'connected' : 'disconnected'}\`}></div>
                                <span style={{ fontSize: '0.875rem', fontFamily: 'Orbitron' }}>
                                    {connected ? \`üî¥ \${tickCount}\` : loadingPhase || '‚ö†Ô∏è'}
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style={{ fontSize: '0.875rem', color: 'var(--text-gray)', marginTop: '0.5rem' }}>
                        ‚ö° Twelve Data + Finnhub ‚Ä¢ {lastUpdate}
                    </div>
                </div>
            </header>
        );

        // ... [Componentes ProfileModal, AlarmsModal, PairCard, CandlestickChart, AdvancedAnalysisPanel]

        const App = () => {
            const [pairs, setPairs] = useState(PAIRS.map(p => ({ ...p, price: null, dailyOpen: null, dailyHigh: null, dailyLow: null, volatility: 50 })));
            const [priceHistories, setPriceHistories] = useState({});
            const [selectedPair, setSelectedPair] = useState(null);
            const [connected, setConnected] = useState(false);
            const [tickCount, setTickCount] = useState(0);
            const [lastUpdate, setLastUpdate] = useState('--:--:--');
            const [loadingPhase, setLoadingPhase] = useState('Init...');
            const [showProfile, setShowProfile] = useState(false);
            const [showAlarms, setShowAlarms] = useState(false);
            const [profile, setProfile] = useState(loadProfile());
            const [alarms, setAlarms] = useState(loadAlarms());
            const wsRef = useRef(null);

            // ... [Resto del c√≥digo del componente App]

            return <div><Header connected={connected} tickCount={tickCount} lastUpdate={lastUpdate} loadingPhase={loadingPhase} onOpenProfile={() => setShowProfile(true)} onOpenAlarms={() => setShowAlarms(true)} profile={profile} /><main style={{ maxWidth: '1600px', margin: '0 auto', padding: '2rem 1.5rem' }}><h2>OPORTUNIDADES EN VIVO</h2></main></div>;
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>